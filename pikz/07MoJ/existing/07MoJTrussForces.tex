%%%%%%%%%%%%%%%%%%%%%%% TRUSS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% !TEX root = ../../Beamer/07MoJ/07MoJ.tex

%http://tex.stackexchange.com/questions/33703/extract-x-y-coordinate-of-an-arbitrary-point-in-tikz
\makeatletter
\providecommand{\gettikzxy}[3]{%
	\tikz@scan@one@point\pgfutil@firstofone#1\relax
	\edef#2{\the\pgf@x}%
	\edef#3{\the\pgf@y}%
}
\makeatother

%%%%%%%%%%%%%%%%%%%%%%% TRUSS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%% TRUSS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{tikzpicture}[scale=\scale]

	\coordinate (A) at (0,0);
	\coordinate (B)	at (3,0);
	\coordinate (C) at (6,0);
	\coordinate (D) at (9,0);
	\coordinate (E) at (12,0);
	\coordinate (F) at (9,2);
	\coordinate (G) at (6,4);
	\coordinate (H) at (3,2);
	\footnotesize
	\PinnedConnection{A}{gray!50}{black}{0.5}{0.125}
	\Rocker{E}{gray!50}{black}{0.5}{0.125}

	\fill[top color=gray!75,bottom color=gray!50] ($(A)+(-1,-0.5)$)rectangle($(A)+(1,-1)$);
	\fill[top color=gray!75,bottom color=gray!50] ($(E)+(-1,-0.5)$)rectangle($(E)+(1,-1)$);
	\draw ($(A)+(-1,-0.5)$)--($(A)+(1,-0.5)$);
	\draw ($(E)+(-1,-0.5)$)--($(E)+(1,-0.5)$);

	\pgfoonew \CF=new rrect(C,F,gray!75,gray!50,black,0.3,0.3,0.3,0.125);
	\pgfoonew \CH=new rrect(C,H,gray!75,gray!50,black,0.3,0.3,0.3,0.125);
	\pgfoonew \FD=new rrect(F,D,gray!75,gray!50,black,0.3,0.3,0.3,0.125);
	\pgfoonew \CG=new rrect(C,G,gray!75,gray!50,black,0.3,0.3,0.3,0.125);
	\uncover<1-3>{
		\pgfoonew \BH=new rrect(B,H,gray!75,gray!50,black,0.3,0.3,0.3,0.125);
	}
	\uncover<4->{
		\begin{scope}[opacity=0.5]
			\pgfoonew \BH=new rrect(B,H,gray!75,gray!50,gray,0.3,0.3,0.3,0.125);
		\end{scope}
	}

	\pgfoonew \AB=new rrect(B,A,gray!75,gray!50,black,0.3,0.3,0.3,0.125);
	\pgfoonew \BC=new rrect(B,C,gray!75,gray!50,black,0.3,0.3,0.3,0.125);
	\pgfoonew \CD=new rrect(C,D,gray!75,gray!50,black,0.3,0.3,0.3,0.125);
	\pgfoonew \DE=new rrect(D,E,gray!75,gray!50,black,0.3,0.3,0.3,0.125);
	\pgfoonew \AH=new rrect(A,H,gray!75,gray!50,black,0.3,0.3,0.3,0.125);
	\pgfoonew \EF=new rrect(E,F,gray!75,gray!50,black,0.3,0.3,0.3,0.125);
	\pgfoonew \AL=new rrect(G,H,gray!75,gray!50,black,0.3,0.3,0.3,0.125);
	\pgfoonew \FG=new rrect(F,G,gray!75,gray!50,black,0.3,0.3,0.3,0.125);

	\uncover<2->{
		\draw[ultra thick, blue, -latex] (D)--+(0,-1.25);
		\draw[ultra thick, blue, latex-] (G)--+(1.25,0);
		\draw[ultra thick, blue, latex-] (H)--+(135:1.25);
	}
	\uncover<3->{
		\draw[ultra thick, saitMaroon, latex-] (A)--+(0,-1.25);
		\draw[ultra thick, saitMaroon, latex-] (A)--+(-1.25,0);
		\draw[ultra thick, saitMaroon, latex-] (E)--+(0,-1.25);
	}
	\uncover<4->{
		\draw[thick,latex-,Green!65!black] (A)--+(33.69:0.75);
		\draw[thick,latex-,Green!65!black] (H)--+(33.69:0.75);
		\draw[thick,latex-,Green!65!black] (H)--+(213.69:0.75);
		\draw[thick,latex-,Green!65!black] (G)--+(213.69:0.75);
		\draw[thick,latex-,Green!65!black] (G)--+(-33.69:0.75);
		\draw[thick,latex-,Green!65!black] (F)--+(-33.69:0.75);
		\draw[thick,latex-,Green!65!black] (F)--+(146.31:0.75);
		\draw[thick,latex-,Green!65!black] (E)--+(146.31:0.75);
		\draw[thick,-latex,Green!65!black] (D)--+(90:0.75);
		\draw[thick,-latex,Green!65!black] (F)--+(270:0.75);
		\draw[thick,latex-,Green!65!black] (F)--+(213.69:0.75);
		\draw[thick,latex-,Green!65!black] (C)--+(33.69:0.75);
		\draw[thick,latex-,Green!65!black] (C)--+(146.31:0.75);
		\draw[thick,latex-,Green!65!black] (H)--+(-33.69:0.75);
		\draw[thick,-latex,Green!65!black] (C)--+(90:0.75);
		\draw[thick,-latex,Green!65!black] (G)--+(270:0.75);
		\draw[thick,-latex,Green!65!black] (E)--+(180:0.75);
		\draw[thick,-latex,Green!65!black] (D)--+(180:0.75);
		\draw[thick,-latex,Green!65!black] (C)--+(180:0.75);
		\draw[thick,-latex,Green!65!black] (B)--+(180:0.75);
		\draw[thick,-latex,Green!65!black] (D)--+(0:0.75);
		\draw[thick,-latex,Green!65!black] (C)--+(0:0.75);
		\draw[thick,-latex,Green!65!black] (B)--+(0:0.75);
		\draw[thick,-latex,Green!65!black] (A)--+(0:0.75);
	}


	\shadedraw[ball color=Azure3, draw=black] (A) circle (2.5pt);
	\shadedraw[ball color=Azure3, draw=black] (B) circle (2.5pt);
	\shadedraw[ball color=Azure3, draw=black] (C) circle (2.5pt);
	\shadedraw[ball color=Azure3, draw=black] (D) circle (2.5pt);
	\shadedraw[ball color=Azure3, draw=black] (E) circle (2.5pt);
	\shadedraw[ball color=Azure3, draw=black] (F) circle (2.5pt);
	\shadedraw[ball color=Azure3, draw=black] (G) circle (2.5pt);
	\shadedraw[ball color=Azure3, draw=black] (H) circle (2.5pt);

	%
	% \draw[thin] ($(A)+(-0.5,0)$)--+(-1,0);
	% \draw[thin] ($(L)+(-0.5,0)$)--+(-3,0);
	% \draw[thin] ($(K)+(-0.5,0)$)--+(-5,0);
	% \draw[thin] ($(J)+(-0.5,0)$)--+(-7,0);
	% \draw[thin] ($(A)+(0,-0.25)$)--+(0,-1.25);
	% \draw[thin] ($(B)+(0,-0.25)$)--+(0,-1.25);
	% \draw[thin] ($(F)+(0,-0.25)$)--+(0,-1.25);
	% \draw[thin] ($(G)+(0,-0.25)$)--+(0,-1.25);
	% \draw[latex-latex] ($(A)+(0,-1.25)$)--node[fill=white,inner sep=0.25mm]{$1.50\,$m}($(B)+(0,-1.25)$);
	% \draw[latex-latex] ($(B)+(0,-1.25)$)--node[fill=white,inner sep=0.25mm]{$1.50\,$m}($(C)+(0,-1.25)$);
	% \draw[latex-latex] ($(C)+(0,-1.25)$)--node[fill=white,inner sep=0.25mm]{$1.50\,$m}($(D)+(0,-1.25)$);
	% \draw[latex-latex] ($(D)+(0,-1.25)$)--node[fill=white,inner sep=0.25mm]{$1.50\,$m}($(E)+(0,-1.25)$);
	% \draw[latex-latex] ($(E)+(0,-1.25)$)--node[fill=white,inner sep=0.25mm]{$1.50\,$m}($(F)+(0,-1.25)$);
	% \draw[latex-latex] ($(F)+(0,-1.25)$)--node[fill=white,inner sep=0.25mm]{$1.50\,$m}($(G)+(0,-1.25)$);
	% \draw[latex-latex] ($(A)+(-1,0)$)--node[fill=white]{$1.15\,$m}($(L)+(-3,0)$);
	% \draw[latex-latex] ($(L)+(-3,0)$)--node[fill=white]{$1.15\,$m}($(K)+(-5,0)$);
	% \draw[latex-latex] ($(K)+(-5,0)$)--node[fill=white]{$1.15\,$m}($(J)+(-7,0)$);

	%
\end{tikzpicture}
